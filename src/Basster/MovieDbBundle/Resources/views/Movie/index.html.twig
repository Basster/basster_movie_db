{% extends '::base.html.twig' %}
{% block body %}
    <nav>
        <ul>
            <li><a href="{{ path('welcome') }}">Alle</a>
                <small>({{ totalCount }})</small>
            </li>
            {% for key, value in alpha %}
                <li><a href="{{ path('movie_list_alphabetical', { 'capital': key }) }}">{{ key }}</a>
                    <small>({{ value }})</small>
                </li>
            {% endfor %}
        </ul>
    </nav>
    <div class="clear_both"></div>
    <div class="movie_search">
        <form class="form-inline" role="form" action="{{ path('movie_list_search') }}" method="GET">
            <div class="form-group">
                {{ form_label(searchForm.query,'Suchen', {'label_attr': { 'class': 'sr-only' } }) }}
                {{ form_widget(searchForm.query, {'attr': { 'placeholder':'Hier suchen...', 'class': 'form-control' } }) }}
            </div>
            <button type="submit" class="btn btn-default">Suchen</button>
        </form>
    </div>
    <div id="movies_container">
        {% for movie in movies %}
            <a href="{{ path('movie_show', { 'slug': movie.slug }) }}">
                <div class="movie"{% if movie.poster %}
                    style="background-image: url({{ movie.poster }})"
                        {% endif %}>
                    <div class="title">{{ movie.title }}</div>
                </div>
            </a>
        {% endfor %}
    </div>

    <ul>
        <li>
            <a href="{{ path('movie_new') }}">
                Neuen Film eintragen
            </a>
        </li>
        <li>
            <a href="{{ path('storagelocation') }}">
                Aufbewahrung verwalten
            </a>
        </li>
    </ul>

{% endblock %}
{% block javascript_libraries %}
    <script src="{{ asset('js/jquery.isotope.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('js/movie_index.js') }}" type="text/javascript"></script>
{% endblock %}
